<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Axum + HTMX + Handlebars</title>
    <script src="/assets/htmx.min.js"></script>
    <script src="/assets/tailwind.min.js"></script>
    <!-- You can link to a CSS file in your /assets folder here if you have one -->
    <!-- e.g., <link rel="stylesheet" href="/assets/styles.css"> -->
  </head>
  <body class="bg-gray-100 text-gray-800 font-sans">
    <div class="container mx-auto px-4 py-8 max-w-2xl">
      <h1 class="text-4xl font-bold mb-6 text-center text-blue-600">wololo</h1>
      <p class="mb-4 text-center text-lg">Server External URL: <strong class="font-semibold text-indigo-700">{{external_url}}</strong></p>

      <div class="text-center mb-6">
        <button hx-get="/hello" hx-target="#hello-response" hx-swap="innerHTML" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded shadow-md transition duration-150 ease-in-out">
          Say Hello
        </button>
      </div>
      <div id="hello-response" class="mt-4 p-4 border border-gray-300 rounded bg-white shadow"></div>

      <h2 class="text-3xl font-semibold mb-4 mt-8 text-blue-600">Registered Devices</h2>
      {{#if devices}}
      <ul class="list-none p-0 bg-white shadow rounded border border-gray-300">
        {{#each devices}}
        <li class="p-3 border-b border-gray-200 last:border-b-0 hover:bg-gray-50 transition duration-150 ease-in-out">
          <span class="device-name font-semibold text-gray-700">{{this.name}}</span>
          {{#if this.ip}} -
          <span class="device-ip text-gray-600 text-sm">IP: {{this.ip}}</span> {{/if}} {{#if
          this.status}} -
          <span class="device-status text-sm italic {{#if (eq this.status "Online")}}text-green-500{{else if (eq this.status "Offline")}}text-red-500{{else}}text-gray-500{{/if}}">Status: {{this.status}}</span>
          {{/if}}
          <!-- Add other device properties here as needed -->
          <!-- Example: {{#if this.mac}} - MAC: {{this.mac}} {{/if}} -->
        </li>
        {{/each}}
      </ul>
      {{else}}
      <p class="no-devices text-gray-500 italic mt-4 p-4 bg-yellow-100 border border-yellow-300 rounded text-center">No devices found or configured.</p>
      {{/if}}
    </div>
  </body>
</html>
